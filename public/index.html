<!DOCTYPE html>
<html>
<head>
  <title>quna短网址</title>
</head>
<body>
  <form id="myForm">
    <label for="input1">URL:</label>
    <input type="text" id="input1" name="input1" value="请输入原始链接">
    <label for="input2">Ckey:</label>
    <input type="text" id="input2" name="input2" value="请输入ckey">
    <input type="submit" value="提交">
  </form>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var form = document.getElementById('myForm');

      form.addEventListener('submit', function(event) {
        event.preventDefault(); // 阻止表单提交的默认行为

        // 获取输入框的值
        var input1Value = document.getElementById('input1').value;
        var input2Value = document.getElementById('input2').value;

        // 构建请求的URL
        var url = 'https://quna.cf/api/' + input2Value;

        // 构建请求的数据
        var data = {
          value: input1Value
        };

        // 发送POST请求
        var xhr = new XMLHttpRequest();
        xhr.open('POST', url);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.onload = function() {
          if (xhr.status === 200) {
            // 请求成功的处理逻辑
            var shortLink = 'https://quna.cf/' + input2Value;
            alert('已经生成短链接：' + shortLink);
          } else {
            // 请求失败的处理逻辑
            console.log('请求失败: ' + xhr.status);
          }
        };
        xhr.onerror = function() {
          // 请求失败的处理逻辑
          console.log('请求失败');
        };
        xhr.send(JSON.stringify(data));
      });
    });
  </script>
</body>
</html>
